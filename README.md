# SearchVidGen: ä»ä¸€ä¸ªæƒ³æ³•åˆ°ä¸€éƒ¨å½±ç‰‡ï¼Œåªéœ€ä¸€é”®

[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)
[![Python Version](https://img.shields.io/badge/python-3.9+-blue.svg)](https://www.python.org/downloads/)

**SearchVidGen** æ˜¯ä¸€ä¸ªç«¯åˆ°ç«¯çš„ã€å…¨è‡ªåŠ¨çš„è®¤çŸ¥å‹è§†é¢‘åˆæˆå¼•æ“ã€‚ç”¨æˆ·ä»…éœ€è¾“å…¥ä¸€ä¸ªç®€å•çš„æœç´¢è¯æˆ–ä¸€å¥è¯ï¼Œç³»ç»Ÿä¾¿èƒ½è‡ªä¸»ç”Ÿæˆä¸€éƒ¨åŒ…å«**è¿è´¯æ•…äº‹æƒ…èŠ‚ã€ç»Ÿä¸€è§†è§‰è§’è‰²ã€ç”µå½±æ„Ÿé•œå¤´ã€è¯­éŸ³æ—ç™½å’Œç²¾å‡†å­—å¹•**çš„é«˜è´¨é‡çŸ­è§†é¢‘ã€‚

æˆ‘ä»¬ä¸åˆ›é€ å•ä¸€çš„AIæ¨¡å‹ï¼Œè€Œæ˜¯æ„å»ºäº†ä¸€åº§è¿æ¥**äººç±»æŠ½è±¡æ„å›¾**ä¸**AIå…·è±¡å½±ç‰‡**çš„
.è‡ªåŠ¨åŒ–æ¡¥æ¢ã€‚è¿™ä¸ªä»“åº“å¼€æºäº†å®ç°è¿™ä¸€ç›®æ ‡çš„**å®Œæ•´æµæ°´çº¿ä»£ç **ã€‚



## æ ¸å¿ƒç‰¹æ€§ (Core Features)

*   **ğŸ’¡ æ„å›¾é©±åŠ¨ (Intent-Driven):** ä»ç®€å•çš„æœç´¢è¯ï¼ˆå¦‚â€œä¸€ä¸ªç¨‹åºå‘˜çš„å¥‹æ–—ä¸è¿·èŒ«â€ï¼‰å‡ºå‘ï¼Œè‡ªåŠ¨è§£æ„å¹¶ç”Ÿæˆå®Œæ•´çš„å¤šæ¨¡æ€å‰§æœ¬ã€‚
*   **ğŸ­ è§’è‰²ä¸€è‡´æ€§ (Character Consistency):** ä½¿ç”¨ [InstantCharacter](https://github.com/Tencent-Hunyuan/InstantCharacter) æŠ€æœ¯ï¼Œä»…éœ€ä¸€å¼ å‚è€ƒå›¾å³å¯åœ¨æ‰€æœ‰åœºæ™¯ä¸­ç»´æŒæ ¸å¿ƒè§’è‰²çš„è§†è§‰ç»Ÿä¸€ã€‚
*   **ğŸ”„ é—­ç¯åé¦ˆå¢å¼º (Closed-Loop Feedback):** åœ¨å›¾ç”Ÿè§†é¢‘å‰ï¼Œç³»ç»Ÿä¼šâ€œå®¡è§†â€å·²ç”Ÿæˆçš„å›¾ç‰‡ï¼Œå¹¶æ™ºèƒ½ä¼˜åŒ–åŠ¨æ€æè¿°ï¼ˆPromptï¼‰ï¼Œæå¤§æå‡å›¾æ–‡ä¸€è‡´æ€§å’Œè§†é¢‘è´¨é‡ã€‚
*   **ğŸ§© æ¨¡å—åŒ–æµæ°´çº¿ (Modular Pipeline):** æ— ç¼æ•´åˆäº†å¤šä¸ªé¡¶å°–å¼€æºæ¨¡å‹ï¼Œæ¶µç›–**å‰§æœ¬ç”Ÿæˆ -> åœºæ™¯å›¾ç”Ÿæˆ -> è§†é¢‘åˆæˆ -> éŸ³é¢‘åˆæˆ -> å­—å¹•ç”Ÿæˆ**çš„å…¨è¿‡ç¨‹ï¼Œæ¯ä¸ªæ­¥éª¤å¯ç‹¬ç«‹è¿è¡Œã€‚
*   **ğŸŒ 100% å¼€æºæŠ€æœ¯æ ˆ (100% Open-Source Stack):** å®Œå…¨åŸºäºç¤¾åŒºå¹¿æ³›è®¤å¯çš„å¼€æºæ¨¡å‹æ„å»ºï¼Œæ˜“äºå¤ç°ã€æ‰©å±•å’Œå®šåˆ¶ã€‚

## æŠ€æœ¯æ ˆæ­ç§˜ (Technology Stack)

SearchVidGen å·§å¦™åœ°ç¼–æ’äº†ä»¥ä¸‹SOTAå¼€æºé¡¹ç›®ï¼Œå½¢æˆäº†ä¸€ä¸ªååŒå·¥ä½œçš„æœ‰æœºæ•´ä½“ï¼š

| é˜¶æ®µ (Stage)            | åŠŸèƒ½ (Function)            | æ ¸å¿ƒæŠ€æœ¯ (Core Technology)                                      |
| :---------------------- | :------------------------- | :-------------------------------------------------------------- |
| **1. æ„å›¾è§£æ & å‰§æœ¬åˆ›ä½œ** | ä»æœç´¢è¯ç”Ÿæˆå¤šæ¨¡æ€æŒ‡ä»¤     | `DeepSeek` / `GPT-4` (å¯é…ç½®)                                   |
| **2. è§’è‰²ä¸€è‡´æ€§å›¾åƒç”Ÿæˆ** | ç”Ÿæˆç»Ÿä¸€è§’è‰²çš„åœºæ™¯å›¾       | [Tencent-Hunyuan/InstantCharacter](https://github.com/Tencent-Hunyuan/InstantCharacter) |
| **3. å›¾ç”Ÿè§†é¢‘åˆæˆ**       | å°†é™æ€å›¾è½¬åŒ–ä¸ºåŠ¨æ€è§†é¢‘     | [Wan-Video/Wan2.1 (I2V)](https://github.com/Wan-Video/Wan2.1)   |
| **4. æç¤ºè¯å¢å¼º**         | æ ¹æ®å›¾ç‰‡ä¼˜åŒ–è§†é¢‘Prompt     | å¤šæ¨¡æ€æ¨¡å‹å¦‚`o4-mini`/`qwen2.5-vl` (å›¾æ–‡ç†è§£)                                            |
| **5. è¯­éŸ³åˆæˆ**           | ç”Ÿæˆæ—ç™½éŸ³é¢‘               | [hexgrad/kokoro](https://github.com/hexgrad/kokoro)             |
| **6. æœ€ç»ˆè§†é¢‘å¤„ç†ä¸å­—å¹•** | è§†é¢‘/éŸ³é¢‘æ‹¼æ¥ä¸å­—å¹•ç”Ÿæˆ    | `FFmpeg` / [WEIFENG2333/VideoCaptioner](https://github.com/WEIFENG2333/VideoCaptioner) |

## å·¥ä½œæµæ¦‚è§ˆ (Workflow Overview)

![Workflow Diagram](source/pipeline.png)

1.  **è¾“å…¥:** ç”¨æˆ·æä¾›ä¸€ä¸ªæœç´¢è¯å’Œä¸€å¼ å¯é€‰çš„è§’è‰²å‚è€ƒå›¾ã€‚
2.  **å‰§æœ¬ç”Ÿæˆ:** è°ƒç”¨å¤§è¯­è¨€æ¨¡å‹ï¼Œç”ŸæˆåŒ…å«åœºæ™¯æè¿°ã€é•œå¤´æŒ‡ä»¤å’Œæ—ç™½çš„â€œå¤šæ¨¡æ€æŒ‡ä»¤çŸ©é˜µâ€ã€‚
3.  **å›¾åƒç”Ÿæˆ:** åŸºäºåœºæ™¯æè¿°å’Œå‚è€ƒå›¾ï¼Œè°ƒç”¨`InstantCharacter`æ‰¹é‡ç”Ÿæˆæ‰€æœ‰åœºæ™¯çš„å…³é”®å¸§å›¾åƒã€‚
4.  **æç¤ºè¯å¢å¼º:** è°ƒç”¨å¤šæ¨¡æ€æ¨¡å‹â€œå®¡è§†â€å·²ç”Ÿæˆçš„å›¾åƒï¼Œå¹¶æ®æ­¤ä¼˜åŒ–åŸå§‹çš„é•œå¤´æŒ‡ä»¤ï¼Œå®ç°é—­ç¯åé¦ˆã€‚
5.  **è§†é¢‘ç‰‡æ®µç”Ÿæˆ:** é©±åŠ¨`Wan2.1`æ¨¡å‹ï¼Œå°†æ¯ä¸ªåœºæ™¯å›¾å’Œå¯¹åº”çš„ï¼ˆä¼˜åŒ–åï¼‰Promptè½¬åŒ–ä¸ºè§†é¢‘ç‰‡æ®µã€‚
6.  **éŸ³é¢‘ç”Ÿæˆ:** è°ƒç”¨`Kokoro TTS`ï¼Œæ ¹æ®æ—ç™½æ–‡æœ¬ç”Ÿæˆå¯¹åº”çš„éŸ³é¢‘ç‰‡æ®µã€‚
7.  **æ€»è£…:** ä½¿ç”¨`FFmpeg`å°†æ‰€æœ‰è§†é¢‘å’ŒéŸ³é¢‘ç‰‡æ®µæ‹¼æ¥èµ·æ¥ï¼Œå¹¶è°ƒç”¨`VideoCaptioner`ä¸ºæœ€ç»ˆè§†é¢‘ç”Ÿæˆå­—å¹•ã€‚
8.  **è¾“å‡º:** ä¸€éƒ¨å¯ä»¥ç›´æ¥å‘å¸ƒçš„MP4è§†é¢‘æ–‡ä»¶ã€‚

## å¿«é€Ÿå¼€å§‹ (Getting Started)

### 1. ç¯å¢ƒå‡†å¤‡ (Prerequisites)

é¦–å…ˆï¼Œå…‹éš†æœ¬ä»“åº“ï¼š
```bash
git clone https://github.com/ZhijunLStudio/SearchVidGen.git
cd SearchVidGen
```
ç„¶åï¼Œå®‰è£…æœ¬é¡¹ç›®åŠæ‰€æœ‰æ ¸å¿ƒä¾èµ–çš„å¼€æºé¡¹ç›®ã€‚è¯·ç¡®ä¿å®ƒä»¬çš„å®‰è£…å’Œé…ç½®éƒ½å·²å®Œæˆï¼š
*   **æ ¸å¿ƒä¾èµ–é¡¹ç›® (å¿…é¡»é¢„å…ˆå®‰è£…):**
    *   [Tencent-Hunyuan/InstantCharacter](https://github.com/Tencent-Hunyuan/InstantCharacter)
    *   [Wan-Video/Wan2.1](https://github.com/Wan-Video/Wan2.1)
    *   [hexgrad/kokoro](https://github.com/hexgrad/kokoro)
    *   [WEIFENG2333/VideoCaptioner](https://github.com/WEIFENG2333/VideoCaptioner)
*   **Python ä¾èµ–:**
    ```bash
    pip install -r requirements.txt
    ```

### 2. æ¨¡å‹ä¸‹è½½ä¸é…ç½® (Model Setup)

æ‚¨éœ€è¦æ ¹æ®ä¸Šè¿°æŠ€æœ¯æ ˆåˆ—è¡¨ï¼Œä¸‹è½½æ‰€æœ‰ä¾èµ–çš„é¢„è®­ç»ƒæ¨¡å‹ï¼Œå¹¶**åœ¨å„ä¸ªè„šæœ¬ä¸­ä¿®æ”¹å¯¹åº”çš„æ¨¡å‹è·¯å¾„**ã€‚æ­¤å¤–ï¼Œè¯·åœ¨`src/llm_client.py`ç­‰éœ€è¦APIçš„åœ°æ–¹é…ç½®æ‚¨çš„å¯†é’¥ã€‚

### 3. åˆ†æ­¥è¿è¡Œæµæ°´çº¿ (Step-by-Step Execution)

> **æ³¨æ„:** å½“å‰ç‰ˆæœ¬éœ€è¦æ‚¨æ‰‹åŠ¨æŒ‰é¡ºåºæ‰§è¡Œä»¥ä¸‹è„šæœ¬ã€‚è¯·åœ¨æ‰§è¡Œå‰ï¼Œæ ¹æ®è„šæœ¬å†…çš„æ³¨é‡Šä¿®æ”¹æ–‡ä»¶è·¯å¾„ã€æŸ¥è¯¢å†…å®¹ç­‰å‚æ•°ã€‚

**ç¬¬1æ­¥: ç”Ÿæˆå¤šæ¨¡æ€æŒ‡ä»¤çŸ©é˜µ**
```bash
# ä¿®æ”¹ src/llm_client.py ä¸­çš„ `search_query_example` å˜é‡
python src/llm_client.py
```

**ç¬¬2æ­¥: ç”Ÿæˆåœºæ™¯å›¾åƒ**
```bash
# ä¿®æ”¹ src/image_generator.py ä¸­çš„è¾“å…¥/è¾“å‡ºæ–‡ä»¶å¤¹è·¯å¾„å’Œå‚è€ƒå›¾è·¯å¾„
python src/image_generator.py
```

**ç¬¬3æ­¥: å¢å¼ºå›¾ç”Ÿè§†é¢‘Prompt**
```bash
# ä¿®æ”¹ src/img2vid_description.py ä¸­çš„è·¯å¾„
python src/img2vid_description.py
```

**ç¬¬4æ­¥: ç”Ÿæˆè§†é¢‘ç‰‡æ®µ**
```bash
# ä¿®æ”¹ src/video_generator.sh ä¸­çš„æ¨¡å‹å’Œæ–‡ä»¶è·¯å¾„
bash src/video_generator.sh
```

**ç¬¬5æ­¥: ç”ŸæˆéŸ³é¢‘ç‰‡æ®µ**
```bash
# ä¿®æ”¹ src/audio_generator.py ä¸­çš„è·¯å¾„
python src/audio_generator.py
```

**ç¬¬6æ­¥: æ‹¼æ¥è§†é¢‘ä¸éŸ³é¢‘**
```bash
# ä¿®æ”¹ src/video_processor.py ä¸­çš„è·¯å¾„
python src/video_processor.py
```

**ç¬¬7æ­¥: (å¯é€‰) ç”Ÿæˆå­—å¹•**
è¯·å‚ç…§ [VideoCaptioner](https://github.com/WEIFENG2333/VideoCaptioner) é¡¹ç›®çš„å®˜æ–¹æŒ‡å—ï¼Œä¸ºä¸Šä¸€æ­¥ç”Ÿæˆçš„æœ€ç»ˆè§†é¢‘æ·»åŠ å­—å¹•ã€‚


## è·¯çº¿å›¾ (Roadmap)

æˆ‘ä»¬å¯¹SearchVidGençš„æœªæ¥å……æ»¡æœŸå¾…ï¼Œå¹¶è®¡åˆ’åœ¨ä»¥ä¸‹æ–¹å‘è¿›è¡Œæ¢ç´¢ï¼š

-   [ ] **ä¸»æ§è„šæœ¬ (Master Script):** å¼€å‘ä¸€ä¸ª`main.py`è„šæœ¬ï¼Œå°†æ‰€æœ‰åˆ†æ­¥æ“ä½œä¸²è”èµ·æ¥ï¼Œå®ç°ä¸€é”®å¼ç«¯åˆ°ç«¯æ‰§è¡Œã€‚
-   [ ] **é…ç½®æ–‡ä»¶ (Config File):** å¼•å…¥`config.yaml`ï¼Œå°†æ‰€æœ‰å¯å˜è·¯å¾„å’Œå‚æ•°é›†ä¸­ç®¡ç†ï¼Œæé«˜æ˜“ç”¨æ€§ã€‚
-   [ ] **äº¤äº’å¼å¯æ§æ€§ (Interactive UI):** å¼€å‘ä¸€ä¸ªç®€å•çš„Web UIç•Œé¢ï¼Œå…è®¸åœ¨å…³é”®èŠ‚ç‚¹è¿›è¡Œäººå·¥å¹²é¢„å’Œå¾®è°ƒã€‚
-   [ ] **æ€§èƒ½ä¼˜åŒ– (Performance):** ä¼˜åŒ–æ¨¡å‹åŠ è½½å’Œæ¨ç†è¿‡ç¨‹ï¼Œç¼©çŸ­ç«¯åˆ°ç«¯çš„ç”Ÿæˆæ—¶é—´ã€‚

## è´¡çŒ® (Contributing)

æˆ‘ä»¬çƒ­çƒˆæ¬¢è¿æ¥è‡ªç¤¾åŒºçš„ä»»ä½•è´¡çŒ®ï¼å¦‚æœæ‚¨æœ‰å¥½çš„æƒ³æ³•æˆ–ä»£ç æ”¹è¿›ï¼Œè¯·éšæ—¶æäº¤Pull Requestã€‚ä¹Ÿæ¬¢è¿åœ¨IssuesåŒºè¿›è¡Œè®¨è®ºã€‚

## è‡´è°¢ (Acknowledgements)

æœ¬é¡¹ç›®çš„å®ç°ç¦»ä¸å¼€ä»¥ä¸‹ä¼˜ç§€çš„å¼€æºé¡¹ç›®ï¼Œåœ¨æ­¤å‘æ‰€æœ‰åŸä½œè€…å’Œè´¡çŒ®è€…è¡¨ç¤ºæœ€è¯šæŒšçš„æ„Ÿè°¢ï¼

*   [Tencent-Hunyuan/InstantCharacter](https://github.com/Tencent-Hunyuan/InstantCharacter)
*   [Wan-Video/Wan2.1](https://github.com/Wan-Video/Wan2.1)
*   [hexgrad/kokoro](https://github.com/hexgrad/kokoro)
*   [WEIFENG2333/VideoCaptioner](https://github.com/WEIFENG2333/VideoCaptioner)
*   ä»¥åŠæ‰€æœ‰æˆ‘ä»¬ä½¿ç”¨çš„åŸºç¡€åº“å’Œæ¡†æ¶ã€‚